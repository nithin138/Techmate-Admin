(self.webpackChunkcuba_react=self.webpackChunkcuba_react||[]).push([[400],{2020:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var s=n(9060),l=n(1816),a=n(4876),o=n(8520),r=n(2555),i=n(3616),c=n(7416),d=n(2496);const u=function(e){var t;let{data:n}=e;return(0,d.jsx)("div",{className:"px-4",children:(0,d.jsxs)(a.c,{className:"overflow-x-auto flex-wrap",children:[(0,d.jsx)(o.c,{sm:12,xl:4,md:3,children:(0,d.jsx)(r.c,{children:(0,d.jsxs)(i.c,{style:{padding:"20px"},children:[(0,d.jsxs)(c.H6,{attrH6:{className:"fw-bolder d-flex"},children:[(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"me-2",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:[(0,d.jsx)("path",{d:"M16.2227 4.32414C16.2462 4.31038 16.2658 4.29068 16.2794 4.267C16.293 4.24332 16.3002 4.21649 16.3002 4.18918C16.3002 4.16188 16.293 4.13505 16.2794 4.11137C16.2658 4.08769 16.2462 4.06798 16.2227 4.05422L10.2563 0.587816C9.87449 0.366535 9.44106 0.25 8.99981 0.25C8.55855 0.25 8.12512 0.366535 7.74336 0.587816L1.77813 4.05422C1.75454 4.06798 1.73497 4.08769 1.72137 4.11137C1.70777 4.13505 1.70062 4.16188 1.70062 4.18918C1.70062 4.21649 1.70777 4.24332 1.72137 4.267C1.73497 4.29068 1.75454 4.31038 1.77813 4.32414L8.92188 8.52649C8.94591 8.54064 8.97329 8.54811 9.00117 8.54811C9.02906 8.54811 9.05644 8.54064 9.08047 8.52649L16.2227 4.32414Z",fill:"#1D2433"}),(0,d.jsx)("path",{d:"M1.10938 5.38703C1.08555 5.37328 1.05851 5.36606 1.031 5.3661C1.00349 5.36614 0.976471 5.37345 0.952688 5.38729C0.928905 5.40112 0.909197 5.42099 0.895556 5.44488C0.881915 5.46878 0.874825 5.49585 0.875003 5.52336V12.3159C0.875593 12.6433 0.961866 12.9648 1.12524 13.2484C1.28862 13.532 1.52341 13.768 1.80625 13.9327L8.14063 17.7308C8.16437 17.7445 8.1913 17.7517 8.21871 17.7517C8.24613 17.7517 8.27306 17.7445 8.29681 17.7308C8.32056 17.7171 8.34029 17.6974 8.35401 17.6737C8.36774 17.65 8.37498 17.623 8.375 17.5956V9.71477C8.37498 9.68737 8.36774 9.66046 8.35403 9.63674C8.34032 9.61301 8.32061 9.59331 8.29688 9.57961L1.10938 5.38703Z",fill:"#1D2433"}),(0,d.jsx)("path",{d:"M9.625 9.74211V17.5937C9.62503 17.6211 9.63227 17.648 9.646 17.6717C9.65972 17.6955 9.67945 17.7152 9.7032 17.7289C9.72695 17.7426 9.75388 17.7498 9.78129 17.7498C9.80871 17.7498 9.83564 17.7425 9.85938 17.7288L16.1934 13.9308C16.476 13.7662 16.7107 13.5306 16.8741 13.2474C17.0375 12.9641 17.124 12.643 17.125 12.3159V5.52336C17.1249 5.49598 17.1176 5.46911 17.1039 5.44543C17.0901 5.42175 17.0704 5.40211 17.0466 5.38846C17.0229 5.37481 16.996 5.36764 16.9686 5.36766C16.9412 5.36769 16.9143 5.37491 16.8906 5.3886L9.70313 9.60735C9.67946 9.62101 9.65978 9.64065 9.64608 9.6643C9.63237 9.68795 9.6251 9.71478 9.625 9.74211Z",fill:"#1D2433"})]})," Total Subscriptions"]}),(0,d.jsx)(c.H3,{attrH3:{className:"mb-0 mt-3 fw-bolder"},children:null===n||void 0===n?void 0:n.totalSubscriptions})]})})}),(0,d.jsx)(o.c,{sm:12,xl:4,md:3,children:(0,d.jsx)(r.c,{children:(0,d.jsxs)(i.c,{style:{padding:"20px"},children:[(0,d.jsxs)(c.H6,{attrH6:{className:"fw-bolder d-flex"},children:[(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"me-2",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:[(0,d.jsx)("path",{d:"M16.2227 4.32414C16.2462 4.31038 16.2658 4.29068 16.2794 4.267C16.293 4.24332 16.3002 4.21649 16.3002 4.18918C16.3002 4.16188 16.293 4.13505 16.2794 4.11137C16.2658 4.08769 16.2462 4.06798 16.2227 4.05422L10.2563 0.587816C9.87449 0.366535 9.44106 0.25 8.99981 0.25C8.55855 0.25 8.12512 0.366535 7.74336 0.587816L1.77813 4.05422C1.75454 4.06798 1.73497 4.08769 1.72137 4.11137C1.70777 4.13505 1.70062 4.16188 1.70062 4.18918C1.70062 4.21649 1.70777 4.24332 1.72137 4.267C1.73497 4.29068 1.75454 4.31038 1.77813 4.32414L8.92188 8.52649C8.94591 8.54064 8.97329 8.54811 9.00117 8.54811C9.02906 8.54811 9.05644 8.54064 9.08047 8.52649L16.2227 4.32414Z",fill:"#1D2433"}),(0,d.jsx)("path",{d:"M1.10938 5.38703C1.08555 5.37328 1.05851 5.36606 1.031 5.3661C1.00349 5.36614 0.976471 5.37345 0.952688 5.38729C0.928905 5.40112 0.909197 5.42099 0.895556 5.44488C0.881915 5.46878 0.874825 5.49585 0.875003 5.52336V12.3159C0.875593 12.6433 0.961866 12.9648 1.12524 13.2484C1.28862 13.532 1.52341 13.768 1.80625 13.9327L8.14063 17.7308C8.16437 17.7445 8.1913 17.7517 8.21871 17.7517C8.24613 17.7517 8.27306 17.7445 8.29681 17.7308C8.32056 17.7171 8.34029 17.6974 8.35401 17.6737C8.36774 17.65 8.37498 17.623 8.375 17.5956V9.71477C8.37498 9.68737 8.36774 9.66046 8.35403 9.63674C8.34032 9.61301 8.32061 9.59331 8.29688 9.57961L1.10938 5.38703Z",fill:"#1D2433"}),(0,d.jsx)("path",{d:"M9.625 9.74211V17.5937C9.62503 17.6211 9.63227 17.648 9.646 17.6717C9.65972 17.6955 9.67945 17.7152 9.7032 17.7289C9.72695 17.7426 9.75388 17.7498 9.78129 17.7498C9.80871 17.7498 9.83564 17.7425 9.85938 17.7288L16.1934 13.9308C16.476 13.7662 16.7107 13.5306 16.8741 13.2474C17.0375 12.9641 17.124 12.643 17.125 12.3159V5.52336C17.1249 5.49598 17.1176 5.46911 17.1039 5.44543C17.0901 5.42175 17.0704 5.40211 17.0466 5.38846C17.0229 5.37481 16.996 5.36764 16.9686 5.36766C16.9412 5.36769 16.9143 5.37491 16.8906 5.3886L9.70313 9.60735C9.67946 9.62101 9.65978 9.64065 9.64608 9.6643C9.63237 9.68795 9.6251 9.71478 9.625 9.74211Z",fill:"#1D2433"})]})," Total Received Payments"]}),(0,d.jsxs)(c.H3,{attrH3:{className:"mb-0 mt-3 fw-bolder"},children:["\u20b9 ",(null===n||void 0===n||null===(t=n.totalAmount)||void 0===t?void 0:t.toFixed(2))||0]})]})})}),(0,d.jsx)(o.c,{sm:12,xl:4,md:3,children:(0,d.jsx)(r.c,{children:(0,d.jsxs)(i.c,{style:{padding:"20px"},children:[(0,d.jsxs)(c.H6,{attrH6:{className:"fw-bolder d-flex"},children:[(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"me-2",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:[(0,d.jsx)("path",{d:"M16.2227 4.32414C16.2462 4.31038 16.2658 4.29068 16.2794 4.267C16.293 4.24332 16.3002 4.21649 16.3002 4.18918C16.3002 4.16188 16.293 4.13505 16.2794 4.11137C16.2658 4.08769 16.2462 4.06798 16.2227 4.05422L10.2563 0.587816C9.87449 0.366535 9.44106 0.25 8.99981 0.25C8.55855 0.25 8.12512 0.366535 7.74336 0.587816L1.77813 4.05422C1.75454 4.06798 1.73497 4.08769 1.72137 4.11137C1.70777 4.13505 1.70062 4.16188 1.70062 4.18918C1.70062 4.21649 1.70777 4.24332 1.72137 4.267C1.73497 4.29068 1.75454 4.31038 1.77813 4.32414L8.92188 8.52649C8.94591 8.54064 8.97329 8.54811 9.00117 8.54811C9.02906 8.54811 9.05644 8.54064 9.08047 8.52649L16.2227 4.32414Z",fill:"#1D2433"}),(0,d.jsx)("path",{d:"M1.10938 5.38703C1.08555 5.37328 1.05851 5.36606 1.031 5.3661C1.00349 5.36614 0.976471 5.37345 0.952688 5.38729C0.928905 5.40112 0.909197 5.42099 0.895556 5.44488C0.881915 5.46878 0.874825 5.49585 0.875003 5.52336V12.3159C0.875593 12.6433 0.961866 12.9648 1.12524 13.2484C1.28862 13.532 1.52341 13.768 1.80625 13.9327L8.14063 17.7308C8.16437 17.7445 8.1913 17.7517 8.21871 17.7517C8.24613 17.7517 8.27306 17.7445 8.29681 17.7308C8.32056 17.7171 8.34029 17.6974 8.35401 17.6737C8.36774 17.65 8.37498 17.623 8.375 17.5956V9.71477C8.37498 9.68737 8.36774 9.66046 8.35403 9.63674C8.34032 9.61301 8.32061 9.59331 8.29688 9.57961L1.10938 5.38703Z",fill:"#1D2433"}),(0,d.jsx)("path",{d:"M9.625 9.74211V17.5937C9.62503 17.6211 9.63227 17.648 9.646 17.6717C9.65972 17.6955 9.67945 17.7152 9.7032 17.7289C9.72695 17.7426 9.75388 17.7498 9.78129 17.7498C9.80871 17.7498 9.83564 17.7425 9.85938 17.7288L16.1934 13.9308C16.476 13.7662 16.7107 13.5306 16.8741 13.2474C17.0375 12.9641 17.124 12.643 17.125 12.3159V5.52336C17.1249 5.49598 17.1176 5.46911 17.1039 5.44543C17.0901 5.42175 17.0704 5.40211 17.0466 5.38846C17.0229 5.37481 16.996 5.36764 16.9686 5.36766C16.9412 5.36769 16.9143 5.37491 16.8906 5.3886L9.70313 9.60735C9.67946 9.62101 9.65978 9.64065 9.64608 9.6643C9.63237 9.68795 9.6251 9.71478 9.625 9.74211Z",fill:"#1D2433"})]})," Active Subscriptions"]}),(0,d.jsx)(c.H3,{attrH3:{className:"mb-0 mt-3 fw-bolder"},children:null===n||void 0===n?void 0:n.activeSubscriptions})]})})})]})})};var C=n(2635),v=n(1560),p=n(3380),f=n.n(p),x=n(4104),m=n(1264);const h=e=>{let{orderData:t}=e;(0,v.i6)();//console.log(t);const[n,l]=(0,s.useState)(!1),[r,i]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),h=s.useRef((0,x.debounce)((async e=>{p(e)}),300)).current,j=[{name:"#ORDER_ID",selector:e=>e.sequence_number,sortable:!0,center:!0,cell:e=>(0,d.jsx)("div",{className:"ellipses_text_1",children:null===e||void 0===e?void 0:e._id})},{name:"CUSTOMER NAME",selector:e=>{var t;return(null===e||void 0===e||null===(t=e.userId)||void 0===t?void 0:t.name)||"Unspecified"},sortable:!0,center:!0,cell:e=>{var t;return(0,d.jsx)("div",{children:null!==e&&void 0!==e&&null!==(t=e.userId)&&void 0!==t&&t.name?e.userId.name:"Unspecified"})}},{name:"SUBSCRIPTION DATE",selector:e=>"".concat(e.startDate),sortable:!0,center:!0,cell:e=>f()(e.startDate).format("DD MMM, YYYY")},{name:"DURATION",selector:e=>{var t;return"".concat(null===e||void 0===e||null===(t=e.subscriptionPlanId)||void 0===t?void 0:t.duration)},cell:e=>{var t;return"".concat(null===e||void 0===e||null===(t=e.subscriptionPlanId)||void 0===t?void 0:t.duration," months")},sortable:!0,center:!0},{name:"PLAN NAME",selector:e=>{var t;return"".concat(null===e||void 0===e||null===(t=e.subscriptionPlanId)||void 0===t?void 0:t.name)},cell:e=>{var t;return null===e||void 0===e||null===(t=e.subscriptionPlanId)||void 0===t?void 0:t.name},sortable:!0,center:!0},{name:"PRICE",selector:e=>{var t;return"".concat(null===e||void 0===e||null===(t=e.subscriptionPlanId)||void 0===t?void 0:t.price)},cell:e=>{var t;return" \u20b9 ".concat(null===e||void 0===e||null===(t=e.subscriptionPlanId)||void 0===t?void 0:t.price)},sortable:!0,center:!0},{name:"STATUS",selector:e=>"".concat(null===e||void 0===e?void 0:e.status),cell:e=>null===e||void 0===e?void 0:e.status,sortable:!0,center:!0}];return(0,d.jsxs)(s.Fragment,{children:[(0,d.jsx)(a.c,{xxl:12,children:(0,d.jsx)(a.c,{children:(0,d.jsx)(o.c,{md:12,lg:12,xl:12,xxl:12,children:(0,d.jsxs)("div",{className:"file-content align-items-center justify-content-between mb-3",children:[(0,d.jsx)(c.H5,{attrH5:{className:"mb-0 font-semibold"},children:"Orders"}),(0,d.jsx)("div",{className:"d-flex",children:(0,d.jsxs)("div",{className:"mb-0 form-group position-relative search_outer d-flex align-items-center",children:[(0,d.jsx)("i",{className:"fa fa-search"}),(0,d.jsx)("input",{className:"form-control border-0",value:r,onChange:e=>{return i((t=e).target.value),void h(t.target.value);var t},type:"text",placeholder:"Search..."})]})})]})})})}),(0,d.jsx)(C.cp,{data:t,columns:j,progressPending:n,progressComponent:(0,d.jsx)(m.c,{})})]})};var j=n(7776),b=n(8372);n(6592);n(6736),n(7628);const w=function(){const[e,t]=(0,s.useState)("orders"),[n,C]=(0,s.useState)(1),[v,p]=(0,s.useState)(null),[f,x]=(0,s.useState)(null),[m,w]=(0,s.useState)([]),[g,L]=(0,s.useState)(),[y,S]=(0,s.useState)([]),[N,M]=(0,s.useState)(""),[D,R]=(0,s.useState)([]),[E,H]=(0,s.useState)([]);return(0,s.useEffect)((()=>{(async()=>{try{const e=await b.c.get("".concat(j.OM,"/api/usersubscription/stats"));//console.log(e),L(e.data.data)}catch(e){console.error(e)}})(),(async()=>{try{var e;const t=await b.c.get("".concat(j.OM,"/api/usersubscription/admin"));//console.log(t),S(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)}catch(t){console.error(t)}})()}),[]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(s.Fragment,{children:(0,d.jsxs)(l.c,{fluid:!0,children:[(0,d.jsx)("div",{className:"page-title",children:(0,d.jsx)(a.c,{children:(0,d.jsx)(o.c,{xs:"6",children:(0,d.jsx)(c.H3,{children:"Subscription Report"})})})}),(0,d.jsx)(a.c,{children:(0,d.jsx)(o.c,{sm:"12",children:(0,d.jsx)(r.c,{children:(0,d.jsxs)(i.c,{className:"p-0 py-4",children:[(0,d.jsx)("div",{className:"px-4 d-flex align-items-center justify-between"}),(0,d.jsx)(u,{data:g})]})})})}),(0,d.jsx)(a.c,{children:(0,d.jsx)(o.c,{sm:"12",children:(0,d.jsx)(r.c,{children:(0,d.jsx)(i.c,{style:{padding:"15px"},children:(0,d.jsx)(h,{orderData:y})})})})})]})})})}},6592:function(e,t,n){var s,l,a;l=[],void 0===(a="function"===typeof(s=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function s(e,t,n){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){i(s.response,t,n)},s.onerror=function(){console.error("could not download file")},s.send()}function l(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,t,n){var r=o.URL||o.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin===location.origin?a(i):l(i.href)?s(e,t,n):a(i,i.target="_blank")):(i.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){a(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,o){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),n);else if(l(e))s(e,n,o);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){a(r)}))}}:function(e,t,n,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),"string"==typeof e)return s(e,t,n);var a="application/octet-stream"===e.type,i=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&i||r)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=e:location=e,l=null},d.readAsDataURL(e)}else{var u=o.URL||o.webkitURL,C=u.createObjectURL(e);l?l.location=C:location.href=C,l=null,setTimeout((function(){u.revokeObjectURL(C)}),4e4)}});o.saveAs=i.saveAs=i,e.exports=i})?s.apply(t,l):s)||(e.exports=a)}}]);
//# sourceMappingURL=400.102312d4.chunk.js.map